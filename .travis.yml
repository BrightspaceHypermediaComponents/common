language: node_js
node_js: node
addons:
  chrome: stable
script:
- npm run lint
- |
  if [ $TRAVIS_PULL_REQUEST != false ] && [ $TRAVIS_SECURE_ENV_VARS == true ]; then
    echo "Pull request with secure environment variables, running Sauce tests...";
    npm run test:polymer:sauce || travis_terminate 1;
  else
    echo "Not a pull request and/or no secure environment variables, running headless tests...";
    npm run test:polymer:local || travis_terminate 1;
  fi
env:
  global:
  - SAUCE_USERNAME: Desire2Learn
  - secure: E4oYUlS6R4MO3czTHfS/Ha++gljt01YjtaN538Ki3FjXIjr1YfMQwRj/+I9cEHRVUsSIHZ2heJhWlj3+YXuv8YGhJw+q/vHrImLEbSSKDauEZA2l64jCQqkdzzwGOdSqwd4aUfiz7mSmo+DV/kVSkQMRUrz6G+FRgQrLDQ4XCsoJDeC/kixdDeKgkngE5FfHmmdyEpUrMXg6WhypW76c3sWsaBwKfyehDAkFIPKz9R29jcmuOJUIj09eGNb6XgelppmYzWR0jCjp/1SUB6NvsxTVNpqEb3OQy99qr1QEWcbmSwdczpPWFSHxJgdPHmJampWaMzo48bM1BJ66NlN0JUJ3jxeqKrbUjgkSQwclxbFYBsgrZ+n+YVPTohv58fhDzygXZC1ss7H1yErLxMS3B1XS8nFHtoESytdkT3JBXAzQdII1W5Auz8UEpQqVnDlkyG0r91QLkrbInSg0Fre1lBh6gZdpzDkZJ7+w6/XQF8E88qDFQvHFrOhCdYltPhwUI8kt7YU70PPkdF/MNL+EarNqE+6HOkYGPtx0yVD8L1Ah0G0idyv/37nC2XXk+gBx3ECXZm1pXeJh/PQ4ikiNmNXaaWw3/J/ir4kAoMxzPXihNcL3VeMPDau4QjTDsP93n1K5a2dGOWUB+5VjTLX3OubsBfnIpCf08dvWrEftpJM=
