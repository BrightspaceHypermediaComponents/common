language: node_js
node_js: node
addons:
  chrome: stable
script:
- npm run lint
- |
  if [ $TRAVIS_PULL_REQUEST != false ] && [ $TRAVIS_SECURE_ENV_VARS == true ]; then
    echo "Pull request with secure environment variables, running Sauce tests...";
    npm run test:polymer:sauce || travis_terminate 1;
  else
    echo "Not a pull request and/or no secure environment variables, running headless tests...";
    npm run test:polymer:local || travis_terminate 1;
  fi
env:
  global:
  - SAUCE_USERNAME: Desire2Learn
  - secure: EeQfoDH5dcAliEq+4HXMuBNOYq0BBXg2njwMqQXl+0ChNl44aF/asWzMhBRL1aIueQ/7znWxXkIORLXJUmVwI1su09BGccg4OCsNlxImY8jDOUUWzeQNYNw19e4RtEPSoWN6MT9iVbQpVMIWYUKXBb3ZjzyKI4NqG8VAb7Phm9M/rvTMc4oK/evWbMrtXm4VTczgkaeC1OH0XvP9jRyPoPtvhBs4RJ89iQEwjwFxWoCOI64frHfzYc5cmoNK7u074X04saCX2QuT/kYqo4ro+F8m5P176zRgwjAnr+fv+4c5eYHIGIeLb7uE7xuufBjhnfgVdw7xTdots+BEfJVSIrxp4Js7ZQcOJzMuuV2zlq+Yx5CcdA6/XFALm10gfXijh45lSJGmJUTrLJmdEBcJ7f/sSYySH2es0pqwHj7Y1XI9z/q6QlUscZ/4M8QbU/UtITrGm5HpUt+KPB11rg5c+A7UiuhSm/sRsbT+3ZeWqlo5ye83Z9VcfJ9p2/rrHJ0yCIj3fZDaFzauPdHX3o0VkECreNGvZ5ym9AbdR+9yC7KFSTO2OnnNCuCY8XSkHChFzJ6QtCqgG0ylY7GHZfXFNIxoBiMqhI+cN2FHfEqIx1zaakYRjNScAf3RGPcH7C+eHxuNt1f26/f1YalYP8ggzAK4R842HTPOaL0ZGJi0s6g=
