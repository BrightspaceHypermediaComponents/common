language: node_js
node_js: node
addons:
  chrome: stable
script:
- npm run lint
- |
  if [ $TRAVIS_PULL_REQUEST != false ] && [ $TRAVIS_SECURE_ENV_VARS == true ]; then
    echo "Pull request with secure environment variables, running Sauce tests...";
    npm run test:polymer:sauce || travis_terminate 1;
  else
    echo "Not a pull request and/or no secure environment variables, running headless tests...";
    npm run test:polymer:local || travis_terminate 1;
  fi
env:
  global:
  - SAUCE_USERNAME: Desire2Learn
  - secure: PRyjjpccFHkzzyibiDQuuwcjer/j4L6FYyFgb+N9ekd4XiIAEgsqVagHeWLJJotWj82AqDAjkktQuuGAQgG8aMbylu+Zg4Zh+tJlWzT4KDLifekxQ78sE+kQSitn28CssLfXk/ZBrBwGf3ytIO2OjTyL3pY62EIqO3AqDdiAX9bgg/4BbODW0/bs+krvE9iMkUeD8SIYnJzJ3JrnAPrsPpiiJt09taYOquvJPwvAg33pIccWp9d3G58QhdLc6+cWVPHEw2bQVg/qROAahWq/2orA7eHgkbfj/IPEUjHr82R2aynLhFePwbaMDS57+UmKQP+GQS1aJnl9iKVYGFr0ud3SN3KJmBNyKrWeL21IWSPYksD6+CCjpKKTHetoI69Ai1ioNHRY9mYYfr+YbIU7YetQCr5wHgqWa9cXZoPXqG86YS+IGKE0yUeGx+fuV6ZjpZab3k5uwMR0tZgGDh1rOj0FwvmnJDoypWUBczaiVTekHQUGeIgAHJeARqHm1Wn7dAipWOzxxVyTc2UHAxYuKEbziAOVEZm4sicMS+fg2EtpQngxcqfMmNFT7XyQU5CVxguLovfLctdfkNOj1/Tp1uJsK5b7vQeGwfO/SuyV87BrzngXvm3cT828Yeeze2GbB6FWQX+hPSchWFg4zLMi0Fj5LmEXoPEXQlcoDbZon6c=
